\usepackage{microtype}%
\usepackage{xspace}%
\usepackage{textgreek}%

%% Abbreviations:
\newcommand{\nodcap}{\ensuremath{\text{CP}_{\text{ND}}}\xspace}
\newcommand{\ceepeeunderscoreendee}{\nodcap}

%% Term Syntax:
\newcommand{\red}[1]{\textcolor{red}{#1}}
\newcommand{\link}[2]{{\ensuremath{#1{\leftrightarrow}#2}}}
\newcommand{\wait}[1]{{\ensuremath{#1().}}}
\newcommand{\halt}[1]{{\ensuremath{#1[].0}}}
\newcommand{\recv}[2]{{\ensuremath{#1(#2).}}}
\newcommand{\usend}[2]{{\ensuremath{#1\langle #2 \rangle.}}}
\newcommand{\send}[2]{{\ensuremath{#1[#2].}}}
\newcommand{\case}[3]{%
\toks0={#2#3}%
\edef\param{\the\toks0}%
\ifx\param\empty
  {\ensuremath{\text{case} \; #1.\{\}}}
\else
  {\ensuremath{\text{case} \; #1.\{ #2 ; #3 \}}}
\fi}
\newcommand{\inl}[1]{{\ensuremath{#1[\text{inl}].}}}
\newcommand{\inr}[1]{{\ensuremath{#1[\text{inr}].}}}
\newcommand{\expn}[2]{{\ensuremath{#1 \uparrow #2.}}}
\newcommand{\intl}[2]{{\ensuremath{#1 \downarrow #2.}}}
\newcommand{\cut}[1]{{\ensuremath{\nu #1.}}}
\newcommand{\subst}[3]{{\ensuremath{#1 \{ #2 / #3 \}}}}

%% Type Syntax:
\newcommand{\blue}[1]{\textcolor{blue}{#1}}
\newcommand{\parr}{\ensuremath{\mathbin{\rotatebox[origin=c]{180}{\&}}}}
\newcommand{\with}{\ensuremath{\mathbin{\text{\&}}}}
\newcommand{\plus}{\ensuremath{\oplus}}
\newcommand{\tens}{\ensuremath{\otimes}}
\newcommand{\one}{\ensuremath{\mathbf{1}}}
\newcommand{\nil}{\ensuremath{\mathbf{0}}}
\newcommand{\give}[2][]{\ensuremath{{ ? }_{#1}{#2}}}
\newcommand{\take}[2][]{\ensuremath{{ ! }_{#1}{#2}}}
\newcommand{\limp}{\ensuremath{\multimap}}

%% Sequent Syntax:
\newcommand{\tm}[2][]{%
\toks0={#1}%
\edef\param{\the\toks0}%
\ifx\param\empty
  \ensuremath{\blue{#2}}%
\else
  \ensuremath{\red{#1}\colon\textcolor{blue}{#2}}%
\fi}
\newcommand{\seq}[2][]{\ensuremath{\red{#1}\vdash\blue{#2}}}

%% Proof Tree Syntax:
\usepackage{bussproofs}
\def\fCenter{\ensuremath{\;\vdash\;}}
\newcommand{\NOM}[1]{\RightLabel{\textsc{#1}}}
\newcommand{\SYM}[1]{\RightLabel{\ensuremath{#1}}}
\EnableBpAbbreviations
\newenvironment{prooftree*}{\leavevmode\hbox\bgroup}{\DisplayProof\egroup}
\newenvironment{scprooftree}[1][0.9]%
  {\gdef\scalefactor{#1}\begin{center}\proofSkipAmount \leavevmode}%
  {\scalebox{\scalefactor}{\DisplayProof}\proofSkipAmount \end{center} }
\newenvironment{scprooftree*}[1][0.9]%
  {\gdef\scalefactor{#1} \leavevmode\hbox\bgroup}
  {\scalebox{\scalefactor}{\DisplayProof} \egroup}


%% Emoji:
\DeclareGraphicsRule{.ai}{pdf}{.ai}{}
\newcommand{\emoji}[2][1em]{\ensuremath{\vcenter{\hbox{\includegraphics[width=#1]{twemoji/assets/#2.ai}}}}}
\newcommand{\mary}[1][1em]{\emoji[#1]{1f469}}
\newcommand{\john}[1][1em]{\emoji[#1]{1f466}}
\newcommand{\cake}[1][1em]{\emoji[#1]{1f370}}
\newcommand{\plato}[1][1em]{\emoji[#1]{1f382}}
\newcommand{\nocake}[1][1em]{\emoji[#1]{1f64c}}
\newcommand{\money}[1][1em]{\emoji[#1]{1f4b0}}
\newcommand{\dollar}[1][1em]{\emoji[#1]{1f4b5}}
\newcommand{\ptis}[1][1em]{\emoji[#1]{1f3e0}}
\newcommand{\good}[1][1em]{\emoji[#1]{2714}}
\newcommand{\bad}[1][1em]{\emoji[#1]{2716}}

%% Tikz Stuff:
\usepackage{tikz}

%% Garrett's security blanket
\definecolor{RoyalPurple}{rgb}{0.47, 0.32, 0.66}
\newcommand{\todo}[1]{{\par\noindent\small\color{RoyalPurple} \framebox{\parbox{\dimexpr\linewidth-2\fboxsep-2\fboxrule}{\textbf{TODO:} #1}}}}

%%% Local Variables:
%%% TeX-master: "main"
%%% End: